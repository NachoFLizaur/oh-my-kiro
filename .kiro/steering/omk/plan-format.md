# Oh-My-Kiro — Plan File Format

## Overview
Plan files are the sole handoff artifact between Phantom and Wraith. They live at `.kiro/plans/{kebab-case-name}.md` and follow a strict template.

## Template

```
# {Plan Name}

## TL;DR
{One-paragraph summary of what this plan accomplishes}

## Context
{Why this work is needed. Background information. Links to relevant docs/issues.}

## Work Objectives
{Numbered list of concrete objectives — what will be different when this plan is complete}

1. {Objective 1}
2. {Objective 2}
3. {Objective 3}

## Scope

### In Scope
- {What IS included in this plan}

### Out of Scope
- {What is explicitly NOT included}

## Execution Strategy
{How the work should be approached. Order of operations. Key decisions.}

### Files to Create
| File | Purpose |
|------|---------|
| `{path}` | {description} |

### Files to Modify
| File | Changes |
|------|---------|
| `{path}` | {description} |

## Tasks

- [ ] **Task 1**: {Description}
  - Files: `{path1}`, `{path2}`
  - Details: {Implementation details}
  - Verify: `{verification command}`

- [ ] **Task 2**: {Description}
  - Files: `{path1}`
  - Details: {Implementation details}
  - Verify: `{verification command}`

## Verification Strategy
{How to verify the entire plan is complete}

### Automated Checks
```bash
{command 1}
{command 2}
```

### Manual Checks
- [ ] {Manual verification step 1}
- [ ] {Manual verification step 2}

## Acceptance Criteria
- [ ] {Binary pass/fail criterion 1}
- [ ] {Binary pass/fail criterion 2}
- [ ] {Binary pass/fail criterion 3}
- [ ] All verification commands pass

## References
- {Link or path to relevant documentation}
- {Link or path to related code}

## Notes
- {Assumptions made during planning}
- {Risks or concerns}
- {Alternative approaches considered}

---
*Plan generated by Phantom | {date}*
*Status: DRAFT | READY | IN_PROGRESS | COMPLETE*
```

## Section Guide

### TL;DR
One paragraph. Must answer: "What does this plan accomplish?" A developer should understand the plan's purpose from this section alone.

### Context
Background information. Why is this work needed? What problem does it solve? Include links to issues, docs, or prior art.

### Work Objectives
Numbered list of concrete, measurable outcomes. Each objective should be independently verifiable. These are the "what" — not the "how."

### Scope
Explicitly state what IS and IS NOT included. This prevents scope creep during execution.

### Execution Strategy
The "how." Order of operations, key technical decisions, approach rationale. Include file lists (create/modify) so Wraith knows what to expect.

### Tasks
The actionable work items. Each task MUST have:
- **Description**: What to do (one line)
- **Files**: Which files to create/modify
- **Details**: Implementation specifics
- **Verify**: Command to verify the task is done

Tasks use checkboxes (`- [ ]` / `- [x]`) for progress tracking.

### Verification Strategy
How to verify the ENTIRE plan is complete (not individual tasks). Includes both automated commands and manual checks.

### Acceptance Criteria
Binary pass/fail conditions. The plan is complete when ALL criteria are checked.

### References
Links to documentation, related code, external resources.

### Notes
Assumptions, risks, alternatives considered. This is the "meta" section.

## Status Line
The last line of every plan: `*Status: DRAFT | READY | IN_PROGRESS | COMPLETE*`

## Naming Convention
- Files: `.kiro/plans/{kebab-case-name}.md`
- Drafts: `.kiro/plans/.draft-{name}.md` (dot-prefix = hidden)
- Examples: `add-user-auth.md`, `refactor-api-layer.md`, `fix-memory-leak.md`

## Status Lifecycle
```
DRAFT → READY → IN_PROGRESS → COMPLETE
  ↑                              |
  └──────── (if rejected) ───────┘
```

- **DRAFT**: Being created by Phantom during interview
- **READY**: Finalized by Phantom, approved by user, ready for Wraith
- **IN_PROGRESS**: Wraith is actively executing
- **COMPLETE**: All tasks checked off, verification passed
